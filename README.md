# シフト希望回収・自動割当アプリ

飲食店向けに、スタッフの可用枠を収集して必要人数に合わせて自動割り当てするシングルページアプリです。外部ライブラリ不使用で、ブラウザだけで完結します。データは localStorage もしくは JSON の書き出し/読み込みで管理できます。

## すぐ試す（ウェブサイトとして開く方法）

- **ローカルで開く**: このリポジトリを取得し、ルート直下の `index.html` をブラウザで開くだけで動きます（サーバー不要）。
- **簡易サーバーで開く**: `python -m http.server 8000` などでルートを配信し、`http://localhost:8000` をブラウザで開きます。
- **GitHub Pages で公開する**:
  1. このリポジトリを GitHub にプッシュする。
  2. GitHub の **Settings → Pages** で **Deploy from a branch** を選び、対象ブランチの `/(root)` を指定して保存。
  3. 数十秒後に表示される URL にアクセスすると、ブラウザだけでアプリが動作します。

## 主な機能

- 週単位（30分刻み）での希望入力と JSON 書き出し
- 作成者によるスタッフ登録・希望ファイルの一括取り込み
- ポジション×時間帯の必要枠テンプレ登録
- 公平性を考慮したヒューリスティック自動割当（割当時間が少ない人を優先）
- 結果表示、未充足の可視化、全データのバックアップ/復元
- localStorage に自動保存（キー: `shift_auto_v1`）

## 簡単な使い方

1. 作成者モードでスタッフを登録する。
2. スタッフが「スタッフ入力モード」で可用枠を選択し、JSON を書き出して提出する。
3. 作成者モードで提出 JSON を読み込み、必要枠を追加する。
4. 「自動割当」を実行し、結果テーブルで充足状況を確認する。
5. 必要に応じて全データをバックアップ/復元する。

## 開発メモ

- フレームワーク不使用のプレーン HTML/CSS/JavaScript の 1 ファイル構成です（`index.html`）。
- ブラウザの LocalStorage を `shift_auto_v1` キーで利用しています。
